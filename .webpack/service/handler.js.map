{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./handler.ts","webpack:///./utils/constants.ts","webpack:///./utils/errorHandlers.ts","webpack:///./utils/errors.ts","webpack:///./utils/logger.ts","webpack:///external \"winston\""],"names":[],"mappings":"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","file":"handler.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./handler.ts\");\n","\nimport { successMessages } from './utils/constants';\nimport { errorHandler } from './utils/errorHandlers';\nimport { logger } from './utils/logger';\n\nexport const handle = async (event, _context) => {\n    const eventBody = JSON.parse(event.body);\n    try {\n        logger.debug('Transaction is successfull:', eventBody);\n        return successMessages.TRANSACTION_SUCCESSFULL(eventBody);\n    }\n    catch (error) {\n        logger.error(error.message);\n        return errorHandler(error);\n    }\n}\n\n","import { Error, Success } from './types';\n\nexport const errorMessages = {\n    INVALID_PAYLOAD: (): Error => ({\n        status: 400,\n        error_code: 'INVALID_PAYLOAD',\n        message: \"Please provide correct payload.\"\n    }),\n};\n\nexport const successMessages = {\n    TRANSACTION_SUCCESSFULL: (details): Success => ({\n        statusCode: 200,\n        body: JSON.stringify({ details: details }, null, 4),\n        headers: {\n            \"Access-Control-Allow-Origin\": \"*\",\n            \"Access-Control-Allow-Credentials\": true\n        },\n    })\n};\n","import { HttpError } from './errors';\n\nexport const errorHandler = (errorObject) => {\n\tif (errorObject instanceof HttpError) {\n\t\treturn {\n\t\t\tstatusCode: errorObject.status,\n\t\t\tbody: JSON.stringify({\n\t\t\t\terrorCode: errorObject.errorCode,\n\t\t\t\tmessage: errorObject.message\n\t\t\t}, null, 4),\n\t\t\theaders: {\n\t\t\t\t\"Access-Control-Allow-Origin\": \"*\",\n\t\t\t\t\"Access-Control-Allow-Credentials\": true\n\t\t\t},\n\t\t};\n\t}\n\treturn {\n\t\tstatusCode: 500,\n\t\tbody: JSON.stringify({ message: errorObject.message }, null, 4),\n\t\theaders: {\n\t\t\t\"Access-Control-Allow-Origin\": \"*\",\n\t\t\t\"Access-Control-Allow-Credentials\": true\n\t\t},\n\t};\n};","export class HttpError extends Error {\n    type: string;\n    status: any;\n    errorCode: any;\n    constructor(error) {\n        super(error.message);\n        this.type = \"httpError\";\n        this.status = error.status;\n        this.errorCode = error.error_code\n    }\n};","import { createLogger, format, transports } from 'winston';\n\nconst { combine, timestamp, label, printf } = format;\n\nconst customFormat = printf(({ level, message, label, timestamp }) => {\n    return `${timestamp} - [${label}] - ${level}: ${message}`;\n});\n\nexport const logger = createLogger({\n    level: 'debug',\n    format: combine(\n        label({ label: require.main.filename }),\n        timestamp({ format: 'DD-MM-YYYY | HH:mm:ss' }),\n        customFormat\n    ),\n    transports: [new transports.Console()]\n});","module.exports = require(\"winston\");"],"sourceRoot":""}